<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StrataSphere - Das Bergbau-Browsergame</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-o9N1j7k2fDgGUNShUMpFUFJ7Mn1jH0zEOfvTIs8u0XY="
      crossorigin=""
    />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <div id="app">
      <header class="landing-header">
        <div class="container">
          <div class="branding">
            <img src="assets/images/logo.svg" alt="StrataSphere" id="logo" />
            <div>
              <h1>StrataSphere</h1>
              <p>Das kooperative Bergbau-Browser-MMO.</p>
            </div>
          </div>
          <nav class="landing-nav">
            <a href="#features">Features</a>
            <a href="#guilds">Zünfte</a>
            <a href="#vision">Vision</a>
            <a href="#tutorial" class="btn btn-primary">So startest du</a>
          </nav>
        </div>
      </header>

      <main>
        <section class="hero" id="cta">
          <div class="container hero-content">
            <div class="hero-copy">
              <h2>Vom Funken zur Metropole</h2>
              <p>
                Gründe dein eigenes Bergbauunternehmen, sichere dir Einflusszonen für
                deine Zunft und entwickle gemeinsam futuristische Technologien. Baue,
                forsche und handle in einer lebendigen Echtzeit-Simulation.
              </p>
              <div class="cta-buttons">
                <button class="btn btn-primary" id="open-login">Anmelden</button>
                <button class="btn btn-secondary" id="open-register">
                  Registrieren
                </button>
              </div>
            </div>
            <div class="hero-visual">
              <img
                src="https://cdn.midjourney.com/d65df306-hero-colony.jpg"
                alt="AI-Rendering einer futuristischen Bergbaustadt"
                class="hero-image"
              />
              <div class="hero-card">
                <h3>Highlights</h3>
                <ul>
                  <li>Anspruch auf Regionen mit Zunft-Boni</li>
                  <li>Gemeinsame Zunftforschung &amp; Ressourcenpools</li>
                  <li>Anpassbare Bedienoberfläche mit Tabs &amp; Frames</li>
                  <li>Automatische Server-Synchronisation</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section class="features" id="features">
          <div class="container">
            <h2>Gameplay-Features</h2>
            <div class="feature-grid">
              <article>
                <h3>Globale Expansion</h3>
                <p>
                  Nutze OpenStreetMap, um neue Minen überall auf der Welt zu platzieren,
                  lokale Gegebenheiten zu analysieren und Logistikketten aufzubauen.
                </p>
              </article>
              <article>
                <h3>Wirtschaft trifft Strategie</h3>
                <p>
                  Plane Produktion, Verkauf und Forschung. Balanciere Personal,
                  Maschinen und Nachhaltigkeit, um langfristig zu wachsen.
                </p>
              </article>
              <article>
                <h3>Lebendige Welt</h3>
                <p>
                  Erlebe dynamisches Wetter, Tag-Nacht-Zyklen und KI-generierte Events,
                  die deine Entscheidungen herausfordern.
                </p>
              </article>
              <article>
                <h3>Adaptive Steuerung</h3>
                <p>
                  Verschiebbare und skalierbare Oberflächen, Tabs für Nebenfenster und
                  auslagerbare Statistiken in Iframes sorgen für maximale Übersicht.
                </p>
              </article>
            </div>
          </div>
        </section>

        <section class="guild-showcase" id="guilds">
          <div class="container guild-layout">
            <div class="guild-copy">
              <h2>Zünfte neu gedacht</h2>
              <p>
                Koordiniere mit anderen Spieler:innen Forschung, Ressourcenausbau und
                Einflussgebiete. Jede Zunft verwaltet einen exklusiven Rohstoffpool und
                kann Regionen mit mächtigen Boni beanspruchen.
              </p>
              <ul class="guild-points">
                <li>Gemeinsame Technologien für Produktions-Boosts</li>
                <li>Regionale Buffs für Minen innerhalb deiner Einflusszonen</li>
                <li>Strategische Aufträge &amp; Unterstützungssysteme</li>
              </ul>
            </div>
            <div class="guild-gallery">
              <img
                src="https://cdn.midjourney.com/0a82d9fd-guild-hall.jpg"
                alt="AI-Konzeptkunst eines Zunft-Hauptquartiers"
              />
              <img
                src="https://cdn.midjourney.com/0f21bf42-guild-map.jpg"
                alt="AI-Darstellung einer holographischen Weltkarte"
              />
            </div>
          </div>
        </section>

        <section class="vision" id="vision">
          <div class="container vision-content">
            <div>
              <h2>Unsere Vision</h2>
              <p>
                StrataSphere verbindet Wirtschaftsstrategie mit Storytelling. Jeder
                Rohstoff hat eine Herkunft, jede Stadt ein Schicksal. Entwickle dich vom
                wagemutigen Gründer zum Visionär, dessen Entscheidungen den globalen
                Markt beeinflussen.
              </p>
              <p>
                Entwickelt als Lernprojekt, aber mit dem Anspruch, dir ein vollständiges
                Spielgefühl zu geben. Mit Liebe zum Detail, modernen Webtechnologien und
                einem Fokus auf Zugänglichkeit.
              </p>
            </div>
            <div class="vision-card">
              <img
                src="https://cdn.midjourney.com/94b73e3f-tech-lab.jpg"
                alt="AI-Visualisierung eines futuristischen Kontrollraums"
              />
              <h3>Technologie-Stack</h3>
              <ul>
                <li>HTML5, CSS3, modulare Vanilla-JS-Engine</li>
                <li>Leaflet &amp; OpenStreetMap für globale Simulation</li>
                <li>Serverseitige Persistenz &amp; Remote APIs</li>
                <li>Progressive Web App Features in Planung</li>
              </ul>
            </div>
          </div>
        </section>
      </main>

      <footer class="landing-footer">
        <div class="container">
          <p>&copy; <span id="year"></span> StrataSphere. Alle Rechte vorbehalten.</p>
          <div class="footer-links">
            <a href="#">Impressum</a>
            <a href="#">Datenschutz</a>
            <a href="#" id="open-game">Zum Spiel</a>
          </div>
        </div>
      </footer>
    </div>

    <div class="modal" id="auth-modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true">
        <button class="modal-close" id="close-modal" aria-label="Schließen">×</button>
        <div class="modal-body">
          <div class="auth-switcher">
            <div class="auth-surfaces">
              <section class="auth-surface active" data-surface="login">
                <aside class="auth-art">
                  <img
                    src="https://cdn.midjourney.com/1b33c0f5-login.jpg"
                    alt="AI-Rendering eines Kontrollpanels"
                  />
                </aside>
                <form id="login-form" class="auth-form">
                  <h3>Control Center</h3>
                  <label>
                    Benutzername
                    <input type="text" name="username" required autocomplete="username" />
                  </label>
                  <label>
                    Passwort
                    <input type="password" name="password" required autocomplete="current-password" />
                  </label>
                  <button type="submit" class="btn btn-primary">Login</button>
                  <p class="form-message" data-role="login"></p>
                </form>
              </section>
              <section class="auth-surface" data-surface="register">
                <aside class="auth-art">
                  <img
                    src="https://cdn.midjourney.com/af907f1d-register.jpg"
                    alt="AI-Rendering eines Zunft-Besprechungsraums"
                  />
                </aside>
                <form id="register-form" class="auth-form">
                  <h3>Neu in StrataSphere</h3>
                  <label>
                    Benutzername
                    <input type="text" name="username" required autocomplete="username" />
                  </label>
                  <label>
                    Passwort
                    <input type="password" name="password" required autocomplete="new-password" />
                  </label>
                  <label>
                    Unternehmen
                    <input type="text" name="company" required />
                  </label>
                  <button type="submit" class="btn btn-secondary">Account erstellen</button>
                  <p class="form-message" data-role="register"></p>
                </form>
              </section>
            </div>
            <div class="auth-toggle">
              <button class="btn btn-outline" data-switch="login">Zur Anmeldung</button>
              <button class="btn btn-outline" data-switch="register">Zur Registrierung</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="game" class="hidden">
      <header class="game-header">
        <div class="game-title">
          <img src="assets/images/logo.svg" alt="StrataSphere" />
          <div>
            <h1>StrataSphere Control</h1>
            <p>Leite dein Bergbauimperium mit globaler Übersicht.</p>
          </div>
        </div>
        <div class="game-actions">
          <span id="player-company"></span>
          <button id="settings-button" class="btn btn-secondary">Einstellungen</button>
          <button id="help-button" class="btn btn-outline">Hilfe</button>
          <button id="logout" class="btn btn-outline">Logout</button>
        </div>
      </header>

      <div class="game-body">
        <div class="map-wrapper">
          <div id="map-controls">
            <label>
              Oberflächen-Größe
              <input type="range" id="window-scale" min="80" max="140" value="100" />
            </label>
            <label>
              Karten-Zoom
              <input type="range" id="map-scale" min="2" max="6" value="3" />
            </label>
          </div>
          <div id="map"></div>
        </div>

        <aside id="window-tab-bar" class="tab-bar"></aside>

        <div class="hud-grid">
          <div class="ui-window" id="status-window">
            <div class="window-header">
              <h2>Status</h2>
              <div class="window-actions" data-window="status-window"></div>
            </div>
            <div class="window-body">
              <p><strong>Zeit:</strong> <span id="time-display"></span></p>
              <p><strong>Credits:</strong> <span id="credits-display"></span></p>
              <p><strong>Forschung:</strong> <span id="research-display"></span></p>
              <div class="resource-list" id="resource-list"></div>
            </div>
          </div>

          <div class="ui-window" id="mine-window">
            <div class="window-header">
              <h2>Minen</h2>
              <div class="window-actions" data-window="mine-window"></div>
            </div>
            <div class="window-body">
              <p>
                Klicke auf die Weltkarte, um eine neue Mine zu platzieren. Jede Mine kann
                Upgrades, Belegschaft und Logistik erhalten.
              </p>
              <div id="mine-list"></div>
              <div id="mine-frames" class="iframe-drawer"></div>
            </div>
          </div>

          <div class="ui-window" id="logistics-window">
            <div class="window-header">
              <h2>Handel &amp; Logistik</h2>
              <div class="window-actions" data-window="logistics-window"></div>
            </div>
            <div class="window-body">
              <p>
                Verkaufe Ressourcen, investiere in Frachtkapazität und optimiere deine
                Lieferketten, um maximale Gewinne zu erzielen.
              </p>
              <div class="trade-panel">
                <label>
                  Ressource
                  <select id="trade-resource"></select>
                </label>
                <label>
                  Menge
                  <input type="number" id="trade-amount" min="0" value="0" />
                </label>
                <button class="btn btn-primary" id="trade-sell">Verkaufen</button>
                <p class="trade-price">Marktpreis: <span id="trade-price"></span></p>
              </div>
              <div class="logistics-upgrades">
                <h3>Logistik-Upgrades</h3>
                <button class="btn btn-secondary" id="upgrade-logistics">
                  Flottenkapazität erhöhen (Kosten: 1.500 Credits)
                </button>
                <p>Aktuelle Kapazität: <span id="logistics-capacity"></span> t/min</p>
              </div>
            </div>
          </div>

          <div class="ui-window" id="research-window">
            <div class="window-header">
              <h2>Forschung</h2>
              <div class="window-actions" data-window="research-window"></div>
            </div>
            <div class="window-body">
              <p>Schalte Technologien frei, um Produktion und Nachhaltigkeit zu boosten.</p>
              <div id="research-list"></div>
            </div>
          </div>

          <div class="ui-window" id="guild-window">
            <div class="window-header">
              <h2>Zunft</h2>
              <div class="window-actions" data-window="guild-window"></div>
            </div>
            <div class="window-body">
              <div id="guild-empty" class="guild-panel">
                <p>Verbünde dich mit anderen Spieler:innen, um globale Synergien freizuschalten.</p>
                <div class="panel-actions">
                  <button class="btn btn-secondary" id="open-guild-browser">Zünfte entdecken</button>
                  <button class="btn btn-primary" id="open-guild-create">Zunft gründen</button>
                </div>
              </div>

              <div id="guild-browser" class="guild-panel hidden">
                <div class="guild-toolbar">
                  <button class="btn btn-outline" id="guild-browser-back">Zurück</button>
                </div>
                <div id="guild-list" class="guild-list"></div>
              </div>

              <div id="guild-create" class="guild-panel hidden">
                <form id="guild-create-form" class="guild-form">
                  <label>
                    Name der Zunft
                    <input type="text" name="name" minlength="3" maxlength="48" required />
                  </label>
                  <label>
                    Motto
                    <input type="text" name="motto" minlength="4" maxlength="120" required />
                  </label>
                  <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Zunft gründen</button>
                    <button type="button" class="btn btn-outline" id="guild-create-cancel">Abbrechen</button>
                  </div>
                </form>
              </div>

              <div id="guild-dashboard" class="guild-panel hidden">
                <header class="guild-header">
                  <div>
                    <h3 id="guild-name"></h3>
                    <p id="guild-motto"></p>
                  </div>
                  <div class="guild-meta">
                    <span>Rolle: <strong id="guild-role"></strong></span>
                    <div class="guild-meta-actions">
                      <button class="btn btn-secondary" id="guild-refresh">Aktualisieren</button>
                      <button class="btn btn-outline" id="guild-leave">Verlassen</button>
                    </div>
                  </div>
                </header>

                <div class="guild-columns">
                  <section class="guild-section">
                    <h4>Mitglieder</h4>
                    <ul id="guild-member-list"></ul>
                  </section>
                  <section class="guild-section">
                    <h4>Zunft-Technologien</h4>
                    <ul id="guild-tech-list" class="tech-list"></ul>
                  </section>
                </div>

                <div class="guild-columns">
                  <section class="guild-section">
                    <h4>Zunft-Zonen</h4>
                    <ul id="guild-zone-list"></ul>
                    <form id="guild-zone-form" class="zone-form">
                      <label>
                        Mine als Zentrum
                        <select id="zone-mine-select" name="mine"></select>
                      </label>
                      <label>
                        Radius (km)
                        <input type="number" id="zone-radius" name="radius" value="80" min="20" max="250" />
                      </label>
                      <button type="submit" class="btn btn-secondary">Zone beanspruchen</button>
                    </form>
                  </section>
                  <section class="guild-section">
                    <h4>Unterstützung</h4>
                    <form id="guild-support-form" class="support-form">
                      <label>
                        Art der Hilfe
                        <select name="type">
                          <option value="Logistik">Logistik</option>
                          <option value="Forschung">Forschung</option>
                          <option value="Rohstoffe">Rohstoffe</option>
                        </select>
                      </label>
                      <label>
                        Umfang
                        <input type="number" name="amount" min="0" value="60" />
                      </label>
                      <label>
                        Nachricht
                        <textarea name="note" rows="2" placeholder="Was wird benötigt?"></textarea>
                      </label>
                      <button type="submit" class="btn btn-primary">Unterstützung anfragen</button>
                    </form>
                    <ul id="guild-support-queue" class="support-queue"></ul>
                  </section>
                  <section class="guild-section">
                    <h4>Zunft-Ressourcen</h4>
                    <ul id="guild-resource-ledger"></ul>
                  </section>
                </div>
              </div>
            </div>
          </div>

          <div class="ui-window" id="operations-window">
            <div class="window-header">
              <h2>Provinzverwaltung</h2>
              <div class="window-actions" data-window="operations-window"></div>
            </div>
            <div class="window-body operations-body">
              <section class="operations-overview">
                <div class="doctrine-select">
                  <label>
                    Doktrin
                    <select id="doctrine-select">
                      <option value="Expansion">Expansion</option>
                      <option value="Fortifikation">Fortifikation</option>
                      <option value="Handelsnetz">Handelsnetz</option>
                    </select>
                  </label>
                </div>
                <div id="province-list" class="province-list"></div>
              </section>
              <section class="operations-queue">
                <h3>Bau- &amp; Forschungsaufträge</h3>
                <form id="province-project-form" class="project-form">
                  <label>
                    Provinz
                    <select id="province-select" name="province"></select>
                  </label>
                  <label>
                    Projekt
                    <select id="province-project-select" name="project"></select>
                  </label>
                  <button type="submit" class="btn btn-primary">Projekt einreihen</button>
                </form>
                <ul id="province-queue" class="queue-list"></ul>
              </section>
            </div>
          </div>

          <div class="ui-window" id="dispatch-window">
            <div class="window-header">
              <h2>Einsatzleitstand</h2>
              <div class="window-actions" data-window="dispatch-window"></div>
            </div>
            <div class="window-body dispatch-body">
              <section>
                <h3>Einheiten</h3>
                <div id="dispatch-unit-list" class="unit-list"></div>
              </section>
              <section>
                <h3>Aktive Einsätze</h3>
                <ul id="dispatch-mission-list" class="mission-list"></ul>
              </section>
              <section>
                <h3>Historie</h3>
                <ul id="dispatch-history" class="history-list"></ul>
              </section>
            </div>
          </div>

          <div class="ui-window" id="community-window">
            <div class="window-header">
              <h2>Welt &amp; Events</h2>
              <div class="window-actions" data-window="community-window"></div>
            </div>
            <div class="window-body community-body">
              <section>
                <h3>Aktive Weltereignisse</h3>
                <ul id="world-events" class="event-list"></ul>
              </section>
              <section>
                <h3>Gilden-Ranking</h3>
                <ul id="world-guilds" class="leaderboard"></ul>
              </section>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal" id="mine-modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true">
        <button class="modal-close" data-close="mine" aria-label="Schließen">
          ×
        </button>
        <div class="modal-body">
          <h2>Neue Mine errichten</h2>
          <p class="modal-hint">
            Wähle die Ressource, vergebe einen Namen und entscheide, wie viele
            Ingenieure du zu Beginn zuweist. Standort: <span id="mine-location"></span>
          </p>
          <form id="mine-form" class="mine-form">
            <label>
              Name
              <input type="text" name="name" placeholder="Aurora-Station" required />
            </label>
            <label>
              Ressource
              <select name="resource" required>
                <option value="iron">Eisen</option>
                <option value="copper">Kupfer</option>
                <option value="coal">Kohle</option>
                <option value="gold">Gold</option>
                <option value="uranium">Uran</option>
              </select>
            </label>
            <label>
              Startbelegschaft
              <input
                type="number"
                name="workers"
                min="5"
                max="250"
                value="25"
                required
              />
            </label>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Mine bauen (Kosten: 750 Credits)</button>
              <button type="button" class="btn btn-outline" data-close="mine">Abbrechen</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="modal" id="settings-modal" aria-hidden="true">
      <div class="modal-content large" role="dialog" aria-modal="true">
        <button class="modal-close" data-close="settings" aria-label="Schließen">×</button>
        <div class="modal-body settings-body">
          <h2>Interface &amp; Gameplay-Einstellungen</h2>
          <form id="settings-form">
            <fieldset>
              <legend>Darstellung</legend>
              <label>
                Schriftgröße
                <input type="range" name="fontScale" min="90" max="130" value="100" />
              </label>
              <label>
                Farbschema
                <select name="theme">
                  <option value="default">Aurora</option>
                  <option value="void">Voidcore</option>
                  <option value="sunrise">Sunrise</option>
                </select>
              </label>
            </fieldset>
            <fieldset>
              <legend>Game-Mechaniken</legend>
              <label class="toggle">
                <input type="checkbox" name="autoTrade" />
                <span>Automatisierter Verkaufsvorschlag</span>
              </label>
              <label class="toggle">
                <input type="checkbox" name="experimentalWeather" />
                <span>Experimentelle Wettereffekte aktivieren</span>
              </label>
              <label class="toggle">
                <input type="checkbox" name="notifyGuild" checked />
                <span>Gilden-Benachrichtigungen anzeigen</span>
              </label>
            </fieldset>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Speichern</button>
              <button type="button" class="btn btn-outline" data-close="settings">Abbrechen</button>
              <button type="button" class="btn btn-outline" id="tutorial-reset">Tutorial neu starten</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="modal" id="help-modal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true">
        <button class="modal-close" data-close="help" aria-label="Schließen">×</button>
        <div class="modal-body help-body">
          <h2>Hilfe &amp; Support</h2>
          <p>
            Willkommen im StrataSphere-Kontrollraum. Hier findest du Kurztipps. Ein dedizierter
            Support-Kanal folgt mit einem späteren Update.
          </p>
          <ul>
            <li>Minimiere Fenster, um sie in der Tab-Leiste abzulegen.</li>
            <li>Nutze die Gildenansicht, um Einflusszonen zu beanspruchen.</li>
            <li>Alle Daten werden automatisch mit dem Server synchronisiert.</li>
          </ul>
        </div>
      </div>
    </div>

    <div id="tutorial" class="tutorial hidden" aria-hidden="true">
      <div class="tutorial-overlay"></div>
      <div class="tutorial-panel" role="dialog" aria-modal="true">
        <div class="tutorial-media">
          <img src="https://cdn.midjourney.com/19e4ed87-tutorial.jpg" alt="AI-Illustration eines Trainingscenters" />
        </div>
        <div class="tutorial-body">
          <h2>StrataSphere Academy</h2>
          <p id="tutorial-text"></p>
          <div class="tutorial-actions">
            <button class="btn btn-outline" id="tutorial-back">Zurück</button>
            <button class="btn btn-secondary" id="tutorial-next">Weiter</button>
            <button class="btn btn-outline" id="tutorial-skip">Überspringen</button>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-o9N1j7k2fDgGUNShUMpFUFJ7Mn1jH0zEOfvTIs8u0XY="
      crossorigin=""
    ></script>
    <script type="module" src="assets/js/main.js"></script>
  </body>
</html>
